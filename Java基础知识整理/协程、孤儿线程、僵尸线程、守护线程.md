# 协程、孤儿线程、僵尸线程、守护线程

> 面试碰到的问题，原来真的是听都没听过，囧...

## 用户态和内核态

## 用户态线程和内核态线程
线程的实现可以分为两类：用户级线程(User-Level Thread)和内核线线程(Kernel-Level Thread)，前者又称为内核支持的线程或轻量级进程。

* 内核级线程：切换由内核控制，当线程进行切换的时候，由用户态转化为内核态。切换完毕要从内核态返回用户态；可以很好的利用smp，即利用多核cpu。windows线程就是这样的。由操作系统内核创建和撤销。内核维护进程及线程的上下文信息以及线程切换。一个内核线程由于I/O操作而阻塞，不会影响其它线程的运行。Windows NT和2000/XP支持内核线程。
* 用户级线程：内核的切换由用户态程序自己控制内核切换，不需要内核干涉，少了进出内核态的消耗，但不能很好的利用多核CPU。目前Linux pthread大体是这么做的。不需要内核支持而在用户程序中实现的线程，其不依赖于操作系统核心，应用进程利用线程库提供创建、同步、调度和管理线程的函数来控制用户线程。不需要用户态/核心态切换，速度快，操作系统内核不知道多线程的存在，因此一个线程阻塞将使得整个进程（包括它的所有线程）阻塞。由于这里的处理器时间片分配是以进程为基本单位，所以每个线程执行的时间相对减少。

## 协程
> [Python 协程](https://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/0013868328689835ecd883d910145dfa8227b539725e5ed000#0)
> [次时代Java编程（一）：Java里的协程](http://blog.csdn.net/zdy0_2004/article/details/51323583)
> ！！ [Java中的协程](http://blog.sina.com.cn/s/blog_790c59140102vvyr.html)

## 孤儿线程
