# 语法糖

### 什么是语法糖？

语法糖（Syntactic sugar），也译为糖衣语法，是由英国计算机科学家彼得·约翰·兰达（Peter J. Landin）发明的一个术语，指计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是更方便程序员使用。通常来说使用语法糖能够增加程序的可读性，从而减少程序代码出错的机会。

Java中包括但是不限于以下10颗语法糖：泛型与类型擦除、自动装箱和拆箱、遍历循环、变长参数、条件编译、内部类、枚举类、断言语句、对枚举和字符串的switch支持、在try语句中定义和关闭资源。


### 泛型与类型擦除
泛型出现的目的是为了在编译期间就能发现一些错误，而不是等待运行时候。泛型值存在源码中，也就是在编译器检查正确完之后，会将相关的泛型类型擦除，即在编译后的字节码中，已经被替换为原来的原生类型了，并且在相应的地方插入了强制转换代码。

而对于运行期间的Java来说， `ArrayList<Integer>`和`ArrayList<String>`就是同一个类。所以说泛型技术实际上就是Java语言的一颗语法糖，Java语言中的泛型实现方法称为类型擦除，基于这种方法实现的泛型称为**伪泛型**。


### 自动装箱与拆箱
从JDK 1.5开始，`Integer i = 1;`和`int j = i;`这种写法能够正确编译和运行，其背后的原理就是所谓的自动装箱和自动拆箱。每个包装类都有对应的自动装箱方法`valueOf`方法和自动拆箱方法`xxxValue`方法。其中`valueOf`方法还存在缓存的设计，比如整型数值类型的缓存范围是[-128, 127](如果没有对Integer做特殊㔘的话)，boolean直接将True和False作为静态常量，Character的缓存范围是[0, 127]。具体的细节可以参见另一篇博文《数值包装类型》。

### 遍历循环
foreach循环是在JDK1.5被加入的，其本质是因为1.5开始加入了`Iterable`接口。一个类如果要支持foreach接口，就必须实现`Iterable`接口。foreach虽然不能完全代替for循环，但是在数组遍历、集合遍历方法给开发人员带来了极大的遍历。具体细节可以参见【源码解读】中的`Iterable`类。

### 变长参数
### 条件编译
### 内部类
### 枚举类
### 断言语句
### 对枚举和字符串的switch支持
### 在try语句中定义和关闭资源


参考：
* [Java中的10颗语法糖](http://blog.csdn.net/fansunion/article/details/8532089)
